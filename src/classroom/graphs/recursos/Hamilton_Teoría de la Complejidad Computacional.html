<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teoría de la Complejidad: Guía Visual Interactiva</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --bg-primary: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
      --bg-secondary: rgba(255, 255, 255, 0.85);
      --bg-tertiary: rgba(248, 250, 252, 0.8);
      --text-primary: #2c3e50;
      --text-secondary: #34495e;
      --text-light: #ffffff;
      --accent-primary: #29b6f6;
      --accent-secondary: #03a9f4;
      --accent-gradient: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
      --border-color: rgba(226, 232, 240, 0.8);
      --shadow-card: 0 15px 35px rgba(0, 0, 0, 0.08);
      --border-radius: 20px;
      --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    [data-theme="dark"] {
      --bg-primary: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      --bg-secondary: rgba(26, 32, 44, 0.85);
      --bg-tertiary: rgba(45, 55, 72, 0.7);
      --text-primary: #f7fafc;
      --text-secondary: #a0aec0;
      --accent-primary: #43cea2;
      --accent-secondary: #185a9d;
      --border-color: rgba(255, 255, 255, 0.15);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; line-height: 1.8; background: var(--bg-primary); color: var(--text-primary); transition: var(--transition); min-height: 100vh; position: relative; overflow-x: hidden; }
    
    .container { max-width: 1000px; margin: 0 auto; padding: 2rem; z-index: 1; }
    .header { text-align: center; margin-bottom: 3rem; position: relative; }
    .main-title { font-size: clamp(2.5rem, 5vw, 4.2rem); font-weight: 800; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 1rem; }
    .subtitle { font-size: 1.4rem; color: var(--text-light); font-weight: 400; opacity: 0.95; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); max-width: 900px; margin: auto; }

    .theme-toggle { position: fixed; top: 2rem; right: 2rem; width: 60px; height: 60px; border: 1px solid var(--border-color); border-radius: 50%; background: var(--bg-secondary); backdrop-filter: blur(15px); box-shadow: var(--shadow-card); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; color: var(--accent-primary); transition: var(--transition); z-index: 1000; }
    .theme-toggle:hover { transform: scale(1.15) rotate(180deg); box-shadow: 0 25px 50px rgba(0, 0, 0, 0.12), 0 0 30px rgba(102, 126, 234, 0.3); }

    .lesson-container { display: flex; flex-direction: column; gap: 1.5rem; }
    .topic-card { background: var(--bg-secondary); backdrop-filter: blur(20px); border-radius: var(--border-radius); box-shadow: var(--shadow-card); border: 2px solid var(--border-color); overflow: hidden; transition: var(--transition); }
    .topic-header { cursor: pointer; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; }
    .topic-title { font-size: 1.3rem; font-weight: 600; color: var(--text-primary); }
    .expand-icon { font-size: 1.2rem; color: var(--text-secondary); transition: var(--transition); }
    .topic-card.open .expand-icon { transform: rotate(180deg); }
    .topic-content { max-height: 0; overflow: hidden; transition: max-height 1.5s ease, padding 1.5s ease; background: var(--bg-tertiary); }
    .topic-card.open .topic-content { max-height: 15000px; padding: 1.5rem 2rem; border-top: 1px solid var(--border-color); }
    .topic-content p, .topic-content ul { color: var(--text-secondary); margin-bottom: 1.5rem; }
    .topic-content p:last-child { margin-bottom: 0; }
    .topic-content strong { color: var(--text-primary); font-weight: 600; }
    .topic-content ul { padding-left: 20px; }
    .topic-content li { margin-bottom: 0.75rem; }

    .diagram-container { background: rgba(0,0,0,0.02); border: 1px solid var(--border-color); border-radius: 10px; padding: 1.5rem; margin: 2.5rem 0; font-family: 'JetBrains Mono', monospace; color: var(--text-secondary); }
    [data-theme="dark"] .diagram-container { background: rgba(0,0,0,0.2); }
    .diagram-title { font-weight: 600; text-align: center; margin-bottom: 2rem; color: var(--text-primary); font-size: 1rem; }
    .diagram-flow, .diagram-grid { display: flex; justify-content: space-around; align-items: stretch; gap: 1rem; flex-wrap: wrap;}
    .diagram-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); align-items: stretch; gap: 1.5rem; }
    .diagram-col { display: flex; flex-direction: column; align-items: center; gap: 1rem; }
    .diagram-box { border: 2px solid var(--border-color); padding: 1rem; border-radius: 8px; text-align: center; background: var(--bg-secondary); box-shadow: var(--shadow-card); min-width: 80px; display: flex; flex-direction: column; justify-content: center; }
    .diagram-box strong { display: block; font-size: 0.9em; color: var(--text-primary); margin-bottom: 0.3rem; }
    .diagram-box span { font-size: 0.8em; }
    .diagram-arrow { flex-grow: 1; position: relative; text-align: center; }
    .diagram-arrow::after { content: '→'; font-size: 2.5rem; color: var(--accent-primary); }
    .diagram-arrow.down::after { content: '↓'; display: block; margin: 0.5rem 0; }
    .diagram-arrow-label { font-size: 0.8em; font-weight: 500; }
    .venn-diagram { position: relative; min-height: 200px; display: flex; justify-content: center; align-items: center; padding: 1rem;}
    .venn-circle { border: 3px solid var(--accent-primary); border-radius: 15px; display: flex; justify-content: center; align-items: center; flex-direction: column; }
    .venn-np { width: 90%; height: 180px; }
    .venn-p { width: 45%; height: 120px; background: rgba(0,0,0,0.05); }
    [data-theme="dark"] .venn-p { background: rgba(255,255,255,0.05); }

    footer { text-align: center; margin-top: 4rem; padding: 2rem 0; border-top: 1px solid var(--border-color); }
    footer p { color: var(--text-light); opacity: 0.9; margin-bottom: 0.5rem; }
  </style>
</head>
<body data-theme="dark">
  <div class="theme-toggle" id="themeToggleButton" title="Cambiar tema"><i class="fas fa-moon" id="theme-icon"></i></div>
  
  <div class="container">
    <header class="header">
      <h1 class="main-title">Teoría de la Complejidad Computacional</h1>
      <p class="subtitle">Una Guía Visual para Entender P vs NP</p>
    </header>

    <div class="lesson-container">
        
        <div class="topic-card open">
            <div class="topic-header"><span class="topic-title">1. ¿Qué significa que un algoritmo sea "eficiente"?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>En la teoría de la complejidad, "eficiente" es un término técnico que se refiere a un algoritmo cuyo tiempo de ejecución escala de manera razonable a medida que aumenta el tamaño de la entrada. La línea que la comunidad científica ha trazado para "razonable" es el <strong>tiempo polinómico</strong>.</p>
                <p>Un algoritmo es de tiempo polinómico si su número de operaciones está acotado por una función polinómica del tamaño de la entrada n (es decir, O(n^k) para alguna constante k). Esto incluye complejidades como O(n log n), O(n²) y O(n³).</p>
                <div class="diagram-container">
                    <div class="diagram-title">Escala de Eficiencia: Polinómico vs. Exponencial</div>
                    <div class="diagram-grid">
                        <div class="diagram-box">
                            <strong>Tiempo Polinómico (Ej: n³)</strong>
                            <span><strong>Manejable.</strong> Si duplicas el tamaño del problema, el tiempo se multiplica por un factor constante (2³=8). Podemos resolver problemas grandes.</span>
                        </div>
                        <div class="diagram-box" style="border-color: #e57373;">
                            <strong>Tiempo Exponencial (Ej: 2ⁿ)</strong>
                            <span><strong>Intratable.</strong> Si añades un solo elemento, el tiempo se duplica. Rápidamente supera la edad del universo para problemas modestos.</span>
                        </div>
                    </div>
                </div>
                <p><strong>Analogía:</strong> Construir una casa con esfuerzo <strong>polinómico</strong> (n²) es factible; una casa el doble de grande lleva cuatro veces más tiempo. Con esfuerzo <strong>exponencial</strong> (2ⁿ), añadir una sola habitación extra duplicaría el tiempo total, haciendo una mansión literalmente imposible de construir.</p>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">2. ¿Qué son las clases de complejidad P y NP?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Estas son las clases fundamentales que nos ayudan a categorizar la dificultad de los problemas de decisión (aquellos con respuesta "sí" o "no").</p>
                <ul>
                    <li><strong>Clase P (Tiempo Polinómico):</strong> La clase de los problemas "fáciles de resolver". Contiene todos los problemas de decisión que pueden ser resueltos desde cero por un algoritmo determinista en tiempo polinómico. Ejemplos: ordenar un array, encontrar un camino entre dos nodos.</li>
                    <li><strong>Clase NP (Tiempo Polinómico No Determinista):</strong> La clase de los problemas "fáciles de verificar". Contiene todos los problemas para los cuales, si alguien te da una posible solución (un "certificado"), puedes verificar si es correcta en tiempo polinómico.</li>
                </ul>
                <p><strong>Error Común:</strong> NP <strong>NO</strong> significa "No Polinómico". Significa "Tiempo Polinómico No Determinista", que es una forma técnica de decir que si una máquina pudiera "adivinar" la solución correcta, podría verificarla rápidamente.</p>
                <p><strong>Ejemplo - Sudoku:</strong> Resolverlo desde cero puede ser muy difícil. Pero si te dan un Sudoku ya resuelto (el certificado), verificar que es correcto es muy fácil (tiempo polinómico). Por lo tanto, el Sudoku está en NP.</p>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">3. ¿Cuál es la relación entre P y NP? (El problema P vs NP)</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>La relación fundamental es que <strong>P es un subconjunto de NP (P ⊆ NP)</strong>. Si puedes resolver un problema rápidamente, también puedes verificar una solución rápidamente (simplemente resuelves el problema de nuevo e ignoras la solución que te dieron).</p>
                <p>La pregunta del millón de dólares, <strong>"¿Es P = NP?"</strong>, es el problema abierto más importante de la informática. Pregunta si estas dos clases son, en realidad, la misma. Es decir: ¿es todo problema cuya solución se puede verificar rápidamente, también fácil de resolver?</p>
                <div class="diagram-container">
                    <div class="diagram-title">La Relación Visual entre P y NP</div>
                    <div class="venn-diagram">
                        <div class="venn-circle venn-np">
                            <strong>Clase NP</strong>
                            <span>(Problemas fáciles de verificar)</span>
                            <div class="venn-circle venn-p">
                                <strong>Clase P</strong>
                                <span>(Problemas fáciles de resolver)</span>
                            </div>
                        </div>
                        <div style="position: absolute; bottom: 0; right: 0; font-size: 2rem; font-weight: bold;">¿P = NP?</div>
                    </div>
                </div>
                <ul>
                    <li><strong>Si P = NP:</strong> Sería una revolución. Problemas intratables como romper la criptografía o la optimización logística perfecta se volverían "fáciles".</li>
                    <li><strong>Si P ≠ NP (la creencia mayoritaria):</strong> Confirmaría que existen problemas intrínsecamente difíciles, donde la brecha entre encontrar una solución y verificarla es insalvable.</li>
                </ul>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">4. ¿Qué son las clases NP-Completo y NP-Difícil?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Estas clases identifican a los problemas "más difíciles" dentro de NP y más allá.</p>
                <ul>
                    <li><strong>NP-Completo:</strong> Son los problemas más difíciles <strong>dentro de NP</strong>. Un problema es NP-Completo si: 1) Está en NP (verificable rápidamente) y 2) Todo otro problema en NP se puede reducir a él en tiempo polinómico. Son las "Joyas de la Corona" de la dificultad en NP. Si resuelves uno eficientemente, los resuelves todos.</li>
                    <li><strong>NP-Difícil (NP-Hard):</strong> Son problemas <strong>al menos tan difíciles</strong> como los NP-Completos, pero no necesariamente están en NP. Esto puede ser porque no son problemas de decisión (ej. TSP de optimización) o porque son indecidibles (ej. Problema de la Parada).</li>
                </ul>
                <div class="diagram-container">
                    <div class="diagram-title">Universo de Clases de Complejidad</div>
                    <div class="diagram-box" style="padding: 1.5rem; border-color: var(--accent-secondary); width: 100%;">
                        <strong>NP-Difícil (NP-Hard)</strong>
                        <span>(Al menos tan difíciles como los más difíciles de NP)</span>
                        <div class="diagram-box" style="margin: 1rem auto; padding: 1.5rem; width: 80%; border-style: dashed;">
                            <strong>NP</strong>
                            <span>(Fáciles de verificar)</span>
                            <div class="diagram-box" style="margin-top: 1rem; background-color: rgba(0,0,0,0.1);">
                                <strong>NP-Completo</strong>
                                <span>(La intersección: los más difíciles de NP)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">5. ¿Por qué el TSP es inviable por fuerza bruta?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                 <p>El Problema del Viajante de Comercio (TSP) busca el tour más corto que visita un conjunto de ciudades. La búsqueda por fuerza bruta, que consiste en enumerar todos los posibles tours, es inviable debido a la <strong>explosión combinatoria</strong> del crecimiento factorial.</p>
                 <p>Para n ciudades, hay <strong>(n-1)! / 2</strong> tours distintos.</p>
                 <ul>
                     <li>Para <strong>n=10</strong>, hay ~181,440 tours. (Manejable)</li>
                     <li>Para <strong>n=20</strong>, hay ~1.2 x 10¹⁷ tours. (Una supercomputadora tardaría años)</li>
                     <li>Para <strong>n=25</strong>, hay ~3.1 x 10²³ tours. (Tardaría millones de años)</li>
                 </ul>
                 <p>Esto ilustra por qué un crecimiento factorial es una barrera computacional insuperable.</p>
            </div>
        </div>
        
        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">6. ¿Existen algoritmos exactos para el TSP mejores que la fuerza bruta?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p><strong>Sí</strong>, pero lamentablemente siguen siendo de tiempo exponencial. El más famoso es el <strong>algoritmo de Held-Karp</strong>, que utiliza programación dinámica. Su complejidad es O(n² * 2ⁿ).</p>
                <p>Aunque 2ⁿ sigue siendo exponencial, es órdenes de magnitud mejor que n!. En la práctica, permite resolver instancias exactas para n≈20-25, algo impensable con la fuerza bruta. Esto demuestra que incluso dentro de la intratabilidad, hay "niveles" de imposibilidad práctica.</p>
            </div>
        </div>
        
        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">7. ¿Cómo se demuestra que el TSP (decisión) es NP-Completo?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Se demuestra mediante una <strong>reducción polinómica</strong> desde un problema que ya sabemos que es NP-Completo, como el <strong>Problema del Ciclo Hamiltoniano</strong>. La idea es "traducir" una instancia del problema conocido a una instancia de TSP.</p>
                <div class="diagram-container">
                    <div class="diagram-title">Flujo de la Reducción Polinómica</div>
                    <div class="diagram-col">
                        <div class="diagram-box"><strong>Entrada:</strong><span>Un grafo G. Pregunta: ¿Tiene G un ciclo hamiltoniano?</span></div>
                        <div class="diagram-arrow down"><div class="diagram-arrow-label">Construcción Polinómica</div></div>
                        <div class="diagram-box"><strong>"Traducción":</strong><span>Crear un grafo completo para TSP. Aristas de G tienen peso 1, las que no están en G tienen peso 2.</span></div>
                        <div class="diagram-arrow down"><div class="diagram-arrow-label">Pregunta al Solucionador TSP</div></div>
                        <div class="diagram-box"><strong>Salida:</strong><span>Pregunta: ¿Existe un tour de coste ≤ n? La respuesta "SÍ" solo es posible si existía un ciclo hamiltoniano en G.</span></div>
                    </div>
                </div>
                <p>Como hemos traducido exitosamente un problema NP-Completo a TSP (decisión) en tiempo polinómico, demostramos que TSP es, como mínimo, igual de difícil, y por tanto, NP-Completo.</p>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">8. ¿Por qué el Sudoku es un ejemplo de problema NP-Completo?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Hay una distinción crucial: el Sudoku clásico de 9x9, al tener un tamaño de entrada fijo, no es técnicamente NP-Completo. El <strong>Sudoku generalizado en un tablero de N²xN²</strong> SÍ es NP-Completo.</p>
                <ul>
                    <li><strong>Está en NP:</strong> Verificar un tablero resuelto es muy rápido (polinómico en el número de casillas).</li>
                    <li><strong>Es NP-Hard:</strong> Se demuestra mediante una reducción compleja desde otro problema NP-Completo (como 3-SAT). Se construye un tablero de Sudoku gigante de tal manera que solo tiene solución si la instancia original del otro problema tenía solución.</li>
                </ul>
                <p>El Sudoku es un ejemplo pedagógico perfecto porque su patrón ("resolver es difícil, verificar es fácil") es intuitivamente claro para casi todo el mundo.</p>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">9. ¿Diferencia entre el Problema de la Parada y los problemas NP-Completos?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>La diferencia es abismal, es una jerarquía de dificultad distinta.</p>
                <div class="diagram-container">
                    <div class="diagram-title">La Jerarquía de la Dificultad Computacional</div>
                    <div class="diagram-col">
                        <div class="diagram-box" style="border-color: #ff7043;">
                            <strong>Problema de la Parada (Halting Problem)</strong>
                            <span><strong>Indecidible.</strong> Es lógicamente imposible de resolver algorítmicamente. La dificultad es de Computabilidad.</span>
                        </div>
                         <div class="diagram-arrow down"><div class="diagram-arrow-label">MUCHO MÁS DIFÍCIL</div></div>
                        <div class="diagram-box" style="border-color: #e57373;">
                            <strong>Problemas NP-Completos (Ej: TSP)</strong>
                            <span><strong>Decidibles pero Intratables.</strong> Se pueden resolver, pero tomaría un tiempo astronómico. La dificultad es de Eficiencia.</span>
                        </div>
                        <div class="diagram-arrow down"><div class="diagram-arrow-label">DIFÍCIL</div></div>
                        <div class="diagram-box" style="border-color: var(--accent-secondary);">
                            <strong>Problemas en P (Ej: Ordenar)</strong>
                            <span><strong>Decidibles y Eficientes.</strong> Se pueden resolver rápidamente.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">10. ¿Impacto práctico si se demostrara que P=NP?</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Si P=NP, las consecuencias transformarían la civilización.</p>
                <ul>
                    <li><strong>La Utopía de la Optimización:</strong>
                        <ul>
                            <li><strong>Logística:</strong> Rutas de entrega perfectas para Amazon/FedEx.</li>
                            <li><strong>Medicina:</strong> Diseño de fármacos y plegamiento de proteínas a medida para curar enfermedades.</li>
                            <li><strong>Ciencia:</strong> Diseño de circuitos, verificación de software y otros problemas de ingeniería se volverían "fáciles".</li>
                        </ul>
                    </li>
                    <li><strong>La Distopía de la Seguridad:</strong>
                        <ul>
                            <li><strong>Criptografía Rota:</strong> La seguridad de la banca online, contraseñas y criptomonedas sería destruida, ya que se basa en problemas en NP.</li>
                        </ul>
                    </li>
                </ul>
                <p><strong>Una advertencia:</strong> La prueba solo garantizaría la existencia de un algoritmo polinómico. Si su complejidad fuera O(n¹⁰⁰⁰), sería teóricamente polinómico pero inútil en la práctica.</p>
            </div>
        </div>

    </div>

    <footer>
      <p>Material elaborado por el profesor Sergio Gevatschnaider</p>
    </footer>

  </div>
  
  <script>
    (function() {
        const themeToggleButton = document.getElementById('themeToggleButton');
        const themeIcon = document.getElementById('theme-icon');
        const bodyEl = document.body;

        function setTheme(theme) {
            bodyEl.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            if (themeIcon) {
                themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }
        }

        themeToggleButton.addEventListener('click', () => {
            const currentTheme = bodyEl.getAttribute('data-theme') || 'dark';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        });

        const savedTheme = localStorage.getItem('theme') || 'dark';
        setTheme(savedTheme);

        document.querySelectorAll('.topic-header').forEach(header => {
            header.addEventListener('click', () => {
                const card = header.parentElement;
                card.classList.toggle('open');
            });
        });
    })();
  </script>
</body>
</html>