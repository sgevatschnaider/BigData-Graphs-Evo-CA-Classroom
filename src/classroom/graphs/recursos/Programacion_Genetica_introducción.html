<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>An√°lisis Acad√©mico de Programaci√≥n Gen√©tica</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --bg-primary: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
      --bg-secondary: rgba(255, 255, 255, 0.85);
      --bg-tertiary: rgba(248, 250, 252, 0.8);
      --text-primary: #2c3e50;
      --text-secondary: #34495e;
      --text-light: #ffffff;
      --accent-primary: #29b6f6;
      --accent-secondary: #03a9f4;
      --accent-gradient: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-secondary) 100%);
      --border-color: rgba(226, 232, 240, 0.8);
      --shadow-card: 0 15px 35px rgba(0, 0, 0, 0.08);
      --border-radius: 20px;
      --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    [data-theme="dark"] {
      --bg-primary: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      --bg-secondary: rgba(26, 32, 44, 0.85);
      --bg-tertiary: rgba(45, 55, 72, 0.7);
      --text-primary: #f7fafc;
      --text-secondary: #a0aec0;
      --accent-primary: #43cea2;
      --accent-secondary: #185a9d;
      --border-color: rgba(255, 255, 255, 0.15);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; line-height: 1.8; background: var(--bg-primary); color: var(--text-primary); transition: var(--transition); min-height: 100vh; position: relative; overflow-x: hidden; }
    
    .container { max-width: 1000px; margin: 0 auto; padding: 2rem; z-index: 1; }
    .header { text-align: center; margin-bottom: 3rem; position: relative; }
    .main-title { font-size: clamp(2.5rem, 5vw, 3.8rem); font-weight: 800; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 1rem; }
    .subtitle { font-size: 1.4rem; color: var(--text-light); font-weight: 400; opacity: 0.95; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); max-width: 900px; margin: auto; }

    .theme-toggle { position: fixed; top: 2rem; right: 2rem; width: 60px; height: 60px; border: 1px solid var(--border-color); border-radius: 50%; background: var(--bg-secondary); backdrop-filter: blur(15px); box-shadow: var(--shadow-card); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; color: var(--accent-primary); transition: var(--transition); z-index: 1000; }
    .theme-toggle:hover { transform: scale(1.15) rotate(180deg); box-shadow: 0 25px 50px rgba(0, 0, 0, 0.12), 0 0 30px rgba(102, 126, 234, 0.3); }

    .lesson-container { display: flex; flex-direction: column; gap: 1.5rem; }
    .topic-card { background: var(--bg-secondary); backdrop-filter: blur(20px); border-radius: var(--border-radius); box-shadow: var(--shadow-card); border: 2px solid var(--border-color); overflow: hidden; transition: var(--transition); }
    .topic-header { cursor: pointer; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; }
    .topic-title { font-size: 1.3rem; font-weight: 600; color: var(--text-primary); }
    .expand-icon { font-size: 1.2rem; color: var(--text-secondary); transition: var(--transition); }
    .topic-card.open .expand-icon { transform: rotate(180deg); }
    .topic-content { max-height: 0; overflow: hidden; transition: max-height 1.5s ease, padding 1.5s ease; background: var(--bg-tertiary); }
    .topic-card.open .topic-content { max-height: 15000px; padding: 1.5rem 2rem; border-top: 1px solid var(--border-color); }
    .topic-content p, .topic-content ul, .topic-content blockquote { color: var(--text-secondary); margin-bottom: 1.5rem; }
    .topic-content h4 { font-size: 1.2rem; color: var(--text-primary); margin-top: 2.5rem; margin-bottom: 1.5rem; font-weight: 600; border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem; }
    .topic-content ul { padding-left: 20px; }
    .topic-content li { margin-bottom: 1rem; line-height: 1.7; }
    .topic-content strong, .topic-content b { color: var(--text-primary); font-weight: 600; }
    .topic-content table { width: 100%; border-collapse: collapse; margin: 2rem 0; color: var(--text-secondary); font-size: 0.9em; }
    .topic-content th, .topic-content td { border: 1px solid var(--border-color); padding: 0.8rem; text-align: left; }
    .topic-content th { background-color: rgba(0,0,0,0.05); font-weight: 600; color: var(--text-primary); }
    .topic-content blockquote { border-left: 4px solid var(--accent-primary); padding-left: 1rem; font-style: italic; }
    [data-theme="dark"] .topic-content th { background-color: rgba(255,255,255,0.05); }

    .diagram-container, .code-container { background: rgba(0,0,0,0.02); border: 1px solid var(--border-color); border-radius: 10px; padding: 1.5rem; margin: 2.5rem 0; font-family: 'JetBrains Mono', monospace; color: var(--text-secondary); }
    [data-theme="dark"] .diagram-container, [data-theme="dark"] .code-container { background: rgba(0,0,0,0.2); }
    .diagram-title { font-weight: 600; text-align: center; margin-bottom: 2rem; color: var(--text-primary); font-size: 1rem; }
    .diagram-flow, .diagram-grid { display: flex; justify-content: space-around; align-items: center; gap: 1rem; flex-wrap: wrap;}
    .diagram-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); align-items: stretch; gap: 1.5rem; }
    .diagram-box { border: 2px solid var(--border-color); padding: 1rem; border-radius: 8px; text-align: center; background: var(--bg-secondary); box-shadow: var(--shadow-card); min-width: 120px; display: flex; flex-direction: column; justify-content: center; }
    .diagram-box strong { display: block; font-size: 0.9em; color: var(--text-primary); margin-bottom: 0.3rem; }
    .diagram-box span { font-size: 0.8em; }
    .diagram-arrow { flex-grow: 1; position: relative; text-align: center; }
    .diagram-arrow::after { content: '‚Üí'; font-size: 2.5rem; color: var(--accent-primary); }
    .diagram-arrow.down::after { content: '‚Üì'; display: block; margin: 0.5rem 0; }
    .diagram-arrow-label { font-size: 0.8em; font-weight: 500; }
    .diagram-col { display: flex; flex-direction: column; align-items: center; gap: 1rem; }
    .diagram-section { padding: 1rem; border: 2px dashed var(--border-color); border-radius: var(--border-radius); width: 100%; }
    .diagram-section-title { font-weight: 600; text-align: center; margin-bottom: 1rem; font-size: 0.9em; color: var(--text-primary); }

    .code-container pre { background: transparent; padding: 0; margin: 0; white-space: pre-wrap; word-wrap: break-word; }
    .code-container code { font-size: 0.9em; }

    footer { text-align: center; margin-top: 4rem; padding: 2rem 0; border-top: 1px solid var(--border-color); }
    footer p { color: var(--text-light); opacity: 0.9; margin-bottom: 0.5rem; }
  </style>
</head>
<body data-theme="dark">
  <div class="theme-toggle" id="themeToggleButton" title="Cambiar tema"><i class="fas fa-moon" id="theme-icon"></i></div>
  
  <div class="container">
    <header class="header">
      <h1 class="main-title">Programaci√≥n Gen√©tica</h1>
      <p class="subtitle">Un enfoque evolutivo para la generaci√≥n autom√°tica de programas y soluciones simb√≥licas.</p>
    </header>

    <div class="lesson-container">
        
        <div class="topic-card open">
            <div class="topic-header"><span class="topic-title">1. Introducci√≥n a la Programaci√≥n Gen√©tica</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>La Programaci√≥n Gen√©tica (PG), conocida en ingl√©s como <i>Genetic Programming</i> (GP), es una t√©cnica avanzada dentro de la computaci√≥n evolutiva, un subcampo de la inteligencia artificial inspirado en la biolog√≠a evolutiva. Su objetivo fundamental es <b>evolucionar autom√°ticamente programas de computadora</b> que resuelvan problemas complejos sin intervenci√≥n humana directa en la codificaci√≥n de la soluci√≥n. En esencia, la PG transforma el proceso de programaci√≥n en un mecanismo de b√∫squeda evolutiva, donde los programas se generan, eval√∫an y refinan iterativamente hasta aproximarse a una soluci√≥n √≥ptima.</p>
                <p>Esta t√©cnica fue formalizada por John Koza en la d√©cada de 1990, extendiendo las ideas de los algoritmos gen√©ticos (AG) propuestos por John Holland en los a√±os 70. Mientras que los AG optimizan vectores de par√°metros fijos (como cadenas binarias representando soluciones num√©ricas), la PG evoluciona <b>estructuras jer√°rquicas variables</b>, como c√≥digo ejecutable. Esto la hace particularmente adecuada para problemas donde la forma de la soluci√≥n no es conocida a priori, permitiendo descubrimientos innovadores que un programador humano podr√≠a no concebir.</p>
                <blockquote>Te√≥ricamente, la PG se basa en el principio de que la evoluci√≥n natural, a trav√©s de variaci√≥n, herencia y selecci√≥n, puede ser modelada computacionalmente para resolver problemas de optimizaci√≥n no lineales y de alta dimensionalidad.</blockquote>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">2. Relaci√≥n con los Algoritmos Evolutivos</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Los algoritmos evolutivos (AE) son un conjunto de metaheur√≠sticas inspiradas en procesos biol√≥gicos. La PG es una extensi√≥n espec√≠fica de los AE, enfocada en la evoluci√≥n de programas o expresiones simb√≥licas.</p>
                 <div class="diagram-container">
                    <div class="diagram-title">Jerarqu√≠a de la Computaci√≥n Evolutiva</div>
                    <div class="diagram-col">
                        <div class="diagram-box"><strong>Algoritmos Evolutivos (AE)</strong><span>Metaheur√≠sticas inspiradas en la evoluci√≥n biol√≥gica</span></div>
                        <div class="diagram-arrow down"></div>
                        <div class="diagram-section">
                            <div class="diagram-section-title">Tipos Principales de AE</div>
                            <div class="diagram-grid">
                                <div class="diagram-box"><strong>Algoritmos Gen√©ticos (AG)</strong><span>Evolucionan soluciones de longitud fija (cadenas, vectores)</span></div>
                                <div class="diagram-box"><strong>Programaci√≥n Gen√©tica (PG)</strong><span>Evolucionan soluciones de estructura variable (√°rboles, programas)</span></div>
                                <div class="diagram-box"><strong>Otras T√©cnicas</strong><span>Evoluci√≥n Diferencial, PSO, etc.</span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <p>Te√≥ricamente, todos los AE comparten un marco com√∫n: una poblaci√≥n de candidatos a soluciones que se itera a trav√©s de operadores de variaci√≥n (mutaci√≥n, cruce) y selecci√≥n (basada en aptitud). Sin embargo, la PG se distingue por su <b>representaci√≥n variable y no fija</b>, lo que la alinea m√°s con la <i>evoluci√≥n abierta</i> en biolog√≠a.</p>
                <p>En t√©rminos de convergencia te√≥rica, los AE, incluyendo la PG, se analizan bajo el marco de la teor√≠a de esquemas (schema theorem) de Holland. Para la PG, esta teor√≠a se extiende a <b>esquemas arb√≥reos</b>, donde los sub√°rboles representan bloques de c√≥digo reutilizables.</p>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">3. El N√∫cleo de la Programaci√≥n Gen√©tica</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <h4>3.1. Representaci√≥n: El √Årbol de Sintaxis</h4>
                <p>La representaci√≥n est√°ndar en PG es el √Årbol de Sintaxis Abstracta (AST), una estructura jer√°rquica que modela el c√≥digo.</p>
                <ul>
                    <li><b>Nodos Internos (Funciones):</b> Operadores como <code>+</code>, <code>IF-THEN-ELSE</code>.</li>
                    <li><b>Nodos Hoja (Terminales):</b> Entradas o constantes como <code>X</code>, <code>Y</code>, <code>2</code>.</li>
                </ul>
                <div class="diagram-container">
                    <div class="diagram-title">Ejemplo de √Årbol de Sintaxis para: (SIN(X) + COS(Y)) / 2</div>
                    <div class="diagram-col">
                        <div class="diagram-box"><strong>/</strong></div>
                        <div class="diagram-arrow down"></div>
                        <div class="diagram-flow" style="width:100%; align-items: flex-start; justify-content:space-around;">
                             <div class="diagram-col">
                                 <div class="diagram-box"><strong>+</strong></div>
                                 <div class="diagram-arrow down"></div>
                                 <div class="diagram-flow" style="gap: 2rem;">
                                      <div class="diagram-col">
                                          <div class="diagram-box"><strong>SIN</strong></div>
                                          <div class="diagram-arrow down"></div>
                                          <div class="diagram-box"><span>X</span></div>
                                      </div>
                                      <div class="diagram-col">
                                          <div class="diagram-box"><strong>COS</strong></div>
                                          <div class="diagram-arrow down"></div>
                                          <div class="diagram-box"><span>Y</span></div>
                                      </div>
                                 </div>
                             </div>
                             <div class="diagram-col">
                                 <div class="diagram-box"><span>2</span></div>
                             </div>
                        </div>
                    </div>
                </div>
                <h4>3.2. La Funci√≥n de Aptitud (Fitness)</h4>
                <p>La funci√≥n de aptitud es el motor selectivo de la evoluci√≥n, cuantificando la calidad de cada individuo (programa). Se alinea con el concepto de <b>paisaje de aptitud (fitness landscape)</b> en biolog√≠a evolutiva.</p>
                <ul>
                    <li><b>Definici√≥n Formal:</b> Para un programa ùëù, la aptitud ùëì(ùëù) es una m√©trica escalar, a menudo minimizada (error) o maximizada (precisi√≥n).</li>
                    <li><b>Ejemplo (Regresi√≥n simb√≥lica):</b> ùëì(ùëù) = ‚àíŒ£ (ùë¶·µ¢ ‚àí ùëù(ùë•·µ¢))¬≤, donde un valor m√°s alto indica mejor ajuste.</li>
                </ul>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">4. El Proceso Evolutivo (El Algoritmo)</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                 <p>El algoritmo de PG es un bucle evolutivo que itera sobre generaciones, refinando la poblaci√≥n mediante variaci√≥n y selecci√≥n.</p>
                 <div class="diagram-container">
                    <div class="diagram-title">Flujo del Algoritmo de Programaci√≥n Gen√©tica</div>
                    <div class="diagram-flow">
                        <div class="diagram-box"><strong>1. Inicializaci√≥n</strong><span>Crear poblaci√≥n aleatoria de √°rboles</span></div>
                        <div class="diagram-arrow"></div>
                        <div class="diagram-box"><strong>2. Evaluaci√≥n</strong><span>Calcular aptitud de cada √°rbol</span></div>
                        <div class="diagram-arrow"></div>
                        <div class="diagram-box"><strong>3. Selecci√≥n</strong><span>Elegir padres para la siguiente generaci√≥n</span></div>
                        <div class="diagram-arrow"><span class="diagram-arrow-label">¬øCondici√≥n de parada?</span></div>
                        <div class="diagram-box"><strong>4. Operadores Gen√©ticos</strong><span>Crear hijos (cruce, mutaci√≥n)</span></div>
                    </div>
                </div>
                
                <h4>4.4. Operadores Gen√©ticos (Creaci√≥n de la Nueva Generaci√≥n)</h4>
                <p>Estos operadores introducen variaci√≥n, an√°logos a la recombinaci√≥n y mutaci√≥n gen√©tica.</p>
                <div class="diagram-container">
                    <div class="diagram-title">Operadores Gen√©ticos Clave en PG</div>
                    <div class="diagram-grid">
                        <div class="diagram-box"><strong><i class="fas fa-people-arrows"></i> Cruce (Crossover)</strong><span>Intercambia sub√°rboles aleatorios entre dos padres para crear nuevos hijos. Es la principal fuente de innovaci√≥n.</span></div>
                        <div class="diagram-box"><strong><i class="fas fa-random"></i> Mutaci√≥n (Mutation)</strong><span>Reemplaza un sub√°rbol aleatorio por uno nuevo. Mantiene la diversidad gen√©tica.</span></div>
                        <div class="diagram-box"><strong><i class="fas fa-crown"></i> Reproducci√≥n (Elitismo)</strong><span>Copia los mejores individuos directamente a la siguiente generaci√≥n para no perder las mejores soluciones encontradas.</span></div>
                    </div>
                </div>

                <h4>4.5. Terminaci√≥n</h4>
                <p>El proceso se detiene cuando se cumple un criterio, como alcanzar un n√∫mero m√°ximo de generaciones, que la aptitud de la mejor soluci√≥n no mejore durante un tiempo, o alcanzar un umbral de calidad.</p>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">5. Ventajas, Desaf√≠os y Avances Te√≥ricos</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <div class="diagram-container">
                    <div class="diagram-title">Balanza de la Programaci√≥n Gen√©tica</div>
                    <div class="diagram-grid">
                        <div class="diagram-section">
                            <div class="diagram-section-title">Ventajas</div>
                            <div class="diagram-box"><strong>Interpretabilidad</strong><span>Los √°rboles resultantes son legibles y pueden ofrecer insights sobre la soluci√≥n.</span></div>
                            <div class="diagram-box"><strong>Flexibilidad Estructural</strong><span>No se limita a optimizar par√°metros, sino que crea la estructura de la soluci√≥n.</span></div>
                        </div>
                        <div class="diagram-section">
                            <div class="diagram-section-title">Desaf√≠os</div>
                            <div class="diagram-box"><strong>Bloat</strong><span>Crecimiento descontrolado del tama√±o de los √°rboles, aumentando el coste computacional.</span></div>
                            <div class="diagram-box"><strong>Alto Costo Computacional</strong><span>Evaluar miles de programas durante cientos de generaciones es intensivo.</span></div>
                        </div>
                    </div>
                </div>
                <h4>Avances Te√≥ricos</h4>
                <p>Las √°reas de investigaci√≥n activas incluyen la PG multi-√°rbol (para evolucionar m√≥dulos de software), la integraci√≥n con deep learning (como en NEAT, Neuroevolution of Augmenting Topologies) y el uso de PG basada en grafos para representaciones m√°s expresivas y complejas.</p>
            </div>
        </div>
        
        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">6. Comparaci√≥n con Otros Algoritmos Evolutivos</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>Esta tabla resalta c√≥mo la PG extiende los AE hacia dominios simb√≥licos, mientras que otros se enfocan en la optimizaci√≥n num√©rica.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Aspecto</th>
                            <th>Programaci√≥n Gen√©tica (PG)</th>
                            <th>Algoritmos Gen√©ticos (AG)</th>
                            <th>Optimizaci√≥n por Enjambre de Part√≠culas (PSO)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Representaci√≥n</strong></td>
                            <td>√Årboles variables (estructuras jer√°rquicas)</td>
                            <td>Cadenas de longitud fija (binarias o reales)</td>
                            <td>Posiciones en un espacio continuo</td>
                        </tr>
                        <tr>
                            <td><strong>Objetivo Principal</strong></td>
                            <td>Evolucionar c√≥digo/funciones</td>
                            <td>Optimizar par√°metros</td>
                            <td>B√∫squeda global en espacios continuos</td>
                        </tr>
                        <tr>
                            <td><strong>Operadores Clave</strong></td>
                            <td>Cruce de sub√°rboles, mutaci√≥n arb√≥rea</td>
                            <td>Cruce de puntos, mutaci√≥n bit-flip</td>
                            <td>Actualizaci√≥n de velocidad/part√≠cula</td>
                        </tr>
                        <tr>
                            <td><strong>Ventajas Te√≥ricas</strong></td>
                            <td>Maneja estructuras din√°micas; descubrimiento inductivo</td>
                            <td>Simple y altamente paralelizable</td>
                            <td>Convergencia r√°pida en problemas continuos</td>
                        </tr>
                        <tr>
                            <td><strong>Desventajas</strong></td>
                            <td>Alto costo evaluativo; bloat</td>
                            <td>Limitado a estructuras de soluci√≥n fijas</td>
                            <td>Puede estancarse en √≥ptimos locales</td>
                        </tr>
                        <tr>
                            <td><strong>Aplicaciones</strong></td>
                            <td>Regresi√≥n simb√≥lica, dise√±o automatizado, IA</td>
                            <td>Optimizaci√≥n combinatoria, scheduling</td>
                            <td>Entrenamiento de redes neuronales, clustering</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">7. Conclusi√≥n</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <p>La Programaci√≥n Gen√©tica representa un puente te√≥rico entre la biolog√≠a evolutiva y la computaci√≥n, ofreciendo un marco poderoso para la s√≠ntesis autom√°tica de soluciones. Su capacidad para explorar y generar estructuras complejas la convierte en una herramienta fundamental en la b√∫squeda de inteligencia artificial general y la resoluci√≥n de problemas donde la forma de la soluci√≥n es desconocida.</p>
                <blockquote>La integraci√≥n de PG con otros algoritmos evolutivos y t√©cnicas de aprendizaje autom√°tico promete avances significativos en la IA h√≠brida, donde la evoluci√≥n gu√≠a el aprendizaje aut√≥nomo de manera m√°s creativa y robusta.</blockquote>
            </div>
        </div>
        
        <div class="topic-card">
            <div class="topic-header"><span class="topic-title">8. Bibliograf√≠a</span><i class="fas fa-chevron-down expand-icon"></i></div>
            <div class="topic-content">
                <ul>
                    <li>Riolo, R., Worzel, W., Goldman, B., & Tozier, B. (Eds.). (2018). <i>Genetic Programming Theory and Practice XIV</i>. Springer.</li>
                    <li>Langdon, W. B., & Poli, R. (2002). <i>Foundations of Genetic Programming</i>. Springer.</li>
                </ul>
            </div>
        </div>
        
    </div>

    <footer>
      <p>Material elaborado por el profesor Sergio Gevatschnaider</p>
    </footer>

  </div>
  
  <script>
    (function() {
        const themeToggleButton = document.getElementById('themeToggleButton');
        const themeIcon = document.getElementById('theme-icon');
        const bodyEl = document.body;

        function setTheme(theme) {
            bodyEl.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            if (themeIcon) {
                themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }
        }

        themeToggleButton.addEventListener('click', () => {
            const currentTheme = bodyEl.getAttribute('data-theme') || 'dark';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        });

        const savedTheme = localStorage.getItem('theme') || 'dark';
        setTheme(savedTheme);

        document.querySelectorAll('.topic-header').forEach(header => {
            header.addEventListener('click', () => {
                const card = header.parentElement;
                card.classList.toggle('open');
            });
        });
    })();
  </script>
</body>
</html>